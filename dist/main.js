(()=>{const t=document.querySelector("[data-new-list-form]"),e=document.querySelector("[data-new-list-input]"),a="task.lists",l=document.querySelector("[data-delete-list-button]");let n=JSON.parse(localStorage.getItem(a))||[];const i=document.querySelector("#listContainer"),s="task.selectedListId";let o=localStorage.getItem(s);function r(){!function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}(i),n.forEach((t=>{const e=document.createElement("li");e.dataset.listId=t.id,e.classList.add("list-name"),e.innerText=t.name,t.id===o&&e.classList.add("active-list"),i.appendChild(e)}))}function d(){localStorage.setItem(a,JSON.stringify(n)),localStorage.setItem(s,o),r()}i.addEventListener("click",(t=>{"li"===t.target.tagName.toLowerCase()&&(o=t.target.dataset.listId,d())})),l.addEventListener("click",(t=>{n=n.filter((t=>t.id!==o)),o=null,d()})),t.addEventListener("submit",(t=>{t.preventDefault();const a=e.value;if(null==a||""==a)return;const l=(i=a,{id:Date.now().toString(),name:i,tasks:[]});var i;e.value=null,n.push(l),d()})),r()})();