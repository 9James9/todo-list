(()=>{const t=document.querySelector("[data-new-list-form]"),e=document.querySelector("[data-new-list-input]"),a="task.lists",l=document.querySelector("[data-delete-list-button]");let n=JSON.parse(localStorage.getItem(a))||[];const i=document.querySelector("#listContainer"),s="task.selectedListId";let o=localStorage.getItem(s);const d=document.querySelector("[data-list-display-container]"),r=document.querySelector("[data-list-title]"),c=document.querySelector("[data-tasks]");function u(){n.forEach((t=>{const e=document.createElement("li");e.dataset.listId=t.id,e.classList.add("list-name"),e.innerText=t.name,t.id===o&&e.classList.add("active-list"),i.appendChild(e)}))}function m(){localStorage.setItem(a,JSON.stringify(n)),localStorage.setItem(s,o),function(){S(i),u();const t=n.find((t=>t.id===o));null==o?d.style.display="none":(d.style.display="",r.innerText=t.name,S(c))}()}function S(t){for(;t.firstChild;)t.removeChild(t.firstChild)}document.querySelector("#task-template"),i.addEventListener("click",(t=>{"li"===t.target.tagName.toLowerCase()&&(o=t.target.dataset.listId,m())})),l.addEventListener("click",(t=>{n=n.filter((t=>t.id!==o)),o=null,m()})),t.addEventListener("submit",(t=>{t.preventDefault();const a=e.value;if(null==a||""==a)return;const l=(i=a,{id:Date.now().toString(),name:i,tasks:[]});var i;e.value=null,n.push(l),m()})),u()})();